{
  "version": 3,
  "sources": ["browser-route-module:D:\\my-remix-app\\app\\routes\\todo\\$todoId.tsx?browser", "../../../../app/routes/todo/$todoId.tsx"],
  "sourcesContent": ["export { default, links } from \"D:\\\\my-remix-app\\\\app\\\\routes\\\\todo\\\\$todoId.tsx\";", "import { ActionFunction, json, LoaderFunction, useLoaderData } from \"remix\";\r\nimport { db } from \"~/utils/db.server\";\r\nimport type { LinksFunction } from \"remix\";\r\nimport stylesUrl from \"~/styles/todoItem.css\";\r\nexport const links: LinksFunction = () => {\r\n  return [{ rel: \"stylesheet\", href: stylesUrl }];\r\n};\r\ntype ActionData = {\r\n  err?: string;\r\n  status?: boolean;\r\n};\r\ntype LoaderData = {\r\n  todo: { id: string; name: string; completed: boolean; createdAt?: any };\r\n};\r\nconst badRequest = (data: ActionData) => {\r\n  return json(data, { status: 400 });\r\n};\r\nexport const loader: LoaderFunction = async ({ params }) => {\r\n  const todo = await db.todo.findUnique({ where: { id: params.todoId } });\r\n  if (!todo) throw new Error(\"Todo item not found\");\r\n  const data: LoaderData = { todo };\r\n  return data;\r\n};\r\nexport const action: ActionFunction = async ({ request }) => {\r\n  const form = await request.formData();\r\n  const id = form.get(\"id\");\r\n  const updatedStatus = form.get(\"status\");\r\n  if (typeof id !== \"string\" || typeof updatedStatus !== \"string\") {\r\n    return badRequest({ err: \"Wrong type\" });\r\n  }\r\n  const res = await db.todo.update({\r\n    where: { id: id },\r\n    data: {\r\n      completed: updatedStatus === \"yes\" ? true : false,\r\n    },\r\n  });\r\n  return null;\r\n};\r\nexport default function TodoItem() {\r\n  const data = useLoaderData<LoaderData>();\r\n  return (\r\n    <div className=\"container\">\r\n      <h3>{data.todo.name}</h3>\r\n      {data.todo.completed ? (\r\n        <p>Status : Completed!</p>\r\n      ) : (\r\n        <p>Status : Not Completed!</p>\r\n      )}\r\n      <p>Created At: {data.todo.createdAt}</p>\r\n      <form method=\"post\">\r\n        <h3>Edit status</h3>\r\n        <input type=\"hidden\" value={data.todo.id} name=\"id\" />\r\n        <input type=\"hidden\" value={data.todo.name} name=\"name\" />\r\n        <label>\r\n          Completed\r\n          <input\r\n            type=\"radio\"\r\n            name=\"status\"\r\n            defaultChecked={data.todo.completed}\r\n            value=\"yes\"\r\n          />\r\n        </label>\r\n        <label>\r\n          Not Completed\r\n          <input\r\n            type=\"radio\"\r\n            name=\"status\"\r\n            defaultChecked={!data.todo.completed}\r\n            value=\"no\"\r\n          />\r\n        </label>\r\n        <button type=\"submit\">Update</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;AAAA;;;ACAA;AACA,gBAAmB;;;;;;AAGZ,IAAM,QAAuB,MAAM;AACxC,SAAO,CAAC,EAAE,KAAK,cAAc,MAAM;AAAA;AAiCtB,oBAAoB;AACjC,QAAM,OAAO;AACb,SACE,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,MAAD,MAAK,KAAK,KAAK,OACd,KAAK,KAAK,YACT,oCAAC,KAAD,MAAG,yBAEH,oCAAC,KAAD,MAAG,4BAEL,oCAAC,KAAD,MAAG,gBAAa,KAAK,KAAK,YAC1B,oCAAC,QAAD;AAAA,IAAM,QAAO;AAAA,KACX,oCAAC,MAAD,MAAI,gBACJ,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAS,OAAO,KAAK,KAAK;AAAA,IAAI,MAAK;AAAA,MAC/C,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAS,OAAO,KAAK,KAAK;AAAA,IAAM,MAAK;AAAA,MACjD,oCAAC,SAAD,MAAO,aAEL,oCAAC,SAAD;AAAA,IACE,MAAK;AAAA,IACL,MAAK;AAAA,IACL,gBAAgB,KAAK,KAAK;AAAA,IAC1B,OAAM;AAAA,OAGV,oCAAC,SAAD,MAAO,iBAEL,oCAAC,SAAD;AAAA,IACE,MAAK;AAAA,IACL,MAAK;AAAA,IACL,gBAAgB,CAAC,KAAK,KAAK;AAAA,IAC3B,OAAM;AAAA,OAGV,oCAAC,UAAD;AAAA,IAAQ,MAAK;AAAA,KAAS;AAAA;",
  "names": []
}
